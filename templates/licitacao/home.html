{% extends 'base/base.html' %}
{% load static %}
{% block menu %}

    <form class="form-inline" method="get" action="">
    <input name="q" class="form-control mr-sm-2" type="search" placeholder="Buscar Licitação" aria-label="Search" value="{{ request.GET.q }}">
    <button class="btn btn-secondary my-2 my-sm-0" type="submit">Buscar</button>
    </form>

{% endblock %}
{% block conteudo %}
<div class="container">
<h2>Licitações</h2>
<h5>Opções de busca</h5>
<p>Para buscar uma licitação específica, basta digitar, no campo de busca do menu superior, uma Modalidade, ano, situação ou objeto.</p>
<h5>Lista de Licitações</h5>
<table class="table table-hover table-striped">
  <thead class="thead-dark text-center">
    <tr>
      <th class="align-middle">Modalidade</th>
      <th class="align-middle">Nº/Ano</th>
      <th class="align-middle">Situação</th>
      <th class="align-middle">Data de Abertura</th>
      <th class="align-middle">Objeto da Contratação</th>
      <th class="align-middle">Visualizar Arquivos</th>
    </tr>
  </thead>
  <tbody>
  {% for dados in contacts %}
    <tr>
      <td class="text-center align-middle">{{ dados.tipo }}</td>
      <td class="text-center align-middle">{{ dados.numero }}/{{ dados.ano }}</td>
      <td class="text-center align-middle">{{ dados.situacao }}</td>
      <td class="text-center align-middle">{{ dados.criado_em }}</td>
      <td class="align-middle">{{ dados.objeto }}</td>
      <td class="text-center align-middle"><a href="#"><i class="fas fa-search-plus fa-2x"></i></a></td>
    </tr>
  {% endfor %}
  </tbody>
<div class="pagination">
    <span class="step-links">
        {% if contacts.has_previous %}
            <a href="?{{ pagina_request }}=1">&laquo; Primeira Página</a>
            <a href="?{{ pagina_request }}={{ contacts.previous_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">Voltar</a>
        {% endif %}

        <span class="current">
            Página {{ contacts.number }} de {{ contacts.paginator.num_pages }}.
        </span>

        {% if contacts.has_next %}
            <a href="?{{ pagina_request }}={{ contacts.next_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">Próxima</a>
            <a href="?{{ pagina_request }}={{ contacts.paginator.num_pages }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">Última &raquo;</a>
        {% endif %}
    </span>
</div>
</table>
{% endblock %}
</div>